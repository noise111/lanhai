webpackJsonp([152],{692:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(2),r=a(3),o=a(81),n=a(46),l=a(47),c=a(54),d=a(61),u=a(104),h=a(17),f=a(98),m=a(4),v=a(16),p=(h.a,r.a,o.a,n.a,l.a,c.a,d.a,v.k,u.a,h.a,f.a,m.a,{directives:{TransferDom:h.a},components:{ViewBox:r.a,Swiper:o.a,Flexbox:n.a,FlexboxItem:l.a,Tabbar:c.a,TabbarItem:d.a,LnHeader:v.k,Previewer:u.a,TransferDom:h.a,SwiperItem:f.a,XHeader:m.a},data:function(){return{num:"0",item:[],swiperItems:[],legth:0,sharedata:{},id:"",hstatus:0,tagheight:"240px"}},beforeCreate:function(){},beforeMount:function(){var t=this;t.$vux.loading.show();var e=i.a.M.urlQuery("id");t.id=e,s.a.shoppingDetail(e).then(function(e){0==e.err_code&&(t.item=e.data,t.id=e.data.id,t.swiperItems=e.data.piclist,t.legth=t.swiperItems.length,t.num=t.item.carttotal,t.sharedata={title:t.item.title,imgUrl:t.item.thumb_url,desc:t.item.desc},wx.ready(function(){wx.onMenuShareAppMessage(t.sharedata),wx.onMenuShareTimeline(t.sharedata),wx.onMenuShareQQ(t.sharedata),wx.onMenuShareWeibo(t.sharedata)}),t.hstatus=e.data.hstatus,t.px=t.hstatus?"45px":"0")})},mounted:function(){var t=this;setTimeout(function(){t.$vux.loading.hide()},300);var e=window.innerWidth,a=(e=.75*(e>600?600:e))+"px";this.tagheight=a},methods:{addcar:function(){var t=this,e=this;if(0==e.item.stock)return e.$vux.toast.text("库存不足，无法购买。","text"),!1;var a={id:e.id};s.a.shoppingUpdate(a).then(function(a){if(t.$vux.loading.hide(),0==a.err_code&&(t.$vux.toast.text("添加成功,在购物车等亲","middle"),setTimeout(function(){e.num++},500)),-1==a.err_code)return t.$vux.toast.show({text:"库存不足，无法购买。",type:"error"}),!1}).catch(function(t){e.showLoading=!1,e.$vux.alert.show({content:"参数错误"})})},url:function(t,e){return i.a.M.url(t,e)},gohomeurl:function(){return i.a.M.url("home")},buy:function(){if(0==this.item.stock)return this.$vux.toast.text("库存不足，无法购买。"),!1;var t=this.item.id;window.location.href=this.url("shopping/confirm",{id:t,total:1})},hdshow:function(t){this.$refs.previewer1.show(t)},spshow:function(t){this.$refs.previewer2.show(t)},options:function(){var t=this;return{getThumbBoundsFn:function(e){var a=t.$el.querySelectorAll(".previewer-demo-img")[e],i=window.pageYOffset||document.documentElement.scrollTop,s=a.getBoundingClientRect();return{x:s.left,y:s.top+i,w:s.width}}}}},computed:{tabHeadHeight:function(){var t=window.innerWidth;return(t=.75*(t>600?600:t))+"px"}}}),w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"},attrs:{id:"box-body"}},[i("view-box",{ref:"viewBox",staticClass:"container",attrs:{"body-padding-top":t.px,"body-padding-bottom":"50px"}},[t.hstatus?i("x-header",{staticStyle:{position:"absolute",width:"100%",left:"0",top:"0","z-index":"100"},attrs:{slot:"header",title:t.item.title},slot:"header"},[i("a",{staticStyle:{color:"#FFFFFF"},attrs:{slot:"right",href:t.gohomeurl()},slot:"right"},[t._v("首页")])]):t._e(),t._v(" "),t.legth?i("swiper",{attrs:{auto:"",height:t.tagheight}},t._l(t.swiperItems,function(e,a){return i("swiper-item",{key:a,staticClass:"swiper-demo-img",nativeOn:{click:function(e){t.hdshow(a)}}},[i("img",{attrs:{src:e.src,width:"100%",height:t.tagheight}})])})):t._e(),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("previewer",{ref:"previewer1",attrs:{list:t.swiperItems,options:t.options}})],1),t._v(" "),i("div",{staticClass:"default-header-tit"},[i("flexbox",{attrs:{gutter:0}},[i("flexbox-item",{staticClass:"default-real-price"},[i("span",[i("i",[t._v("￥")]),t._v(t._s(t.item.marketprice)+"\n                   ")]),t._v(" "),i("span",{staticClass:"default-font-num"},[t._v("￥"+t._s(t.item.productprice))]),t._v(" "),i("div",{staticClass:"default-settle-choice"},[i("span",[t._v("促销价")])]),t._v(" "),1==t.item.recommand?i("div",{staticClass:"default-settle-choice2"},[i("span",[t._v("自  营")])]):t._e()])],1),t._v(" "),i("flexbox",{attrs:{gutter:0}},[i("flexbox-item",{staticClass:"default-product-title"},[i("h2",{staticStyle:{color:"#0d0d0d"}},[t._v("\n                        "+t._s(t.item.title)+"\n                    ")])])],1),t._v(" "),i("flexbox",{staticClass:"default-flexbox",attrs:{gutter:0}},[i("flexbox-item",[t._v("\n                    库存:"+t._s(t.item.stock)+"\n                ")]),t._v(" "),i("flexbox-item",[t._v("\n                    赠送积分:"+t._s(t.item.credit)+"\n                ")]),t._v(" "),i("flexbox-item",[t._v("\n                    已售:"+t._s(t.item.sold)+"\n                ")])],1)],1),t._v(" "),t.item.thumbs||t.item.content?i("div",{staticClass:"default-product-pages"},[i("div",{staticClass:"default-product-pages-title"},[i("h2",[t._v("图文详情")])]),t._v(" "),i("div",{staticClass:"default-product-pages-img"},[t.item.thumbs.length?i("div",{staticClass:"default-product-pages-div"},t._l(t.item.thumbs,function(e,a){return i("img",{attrs:{src:e.src,alt:""},nativeOn:{click:function(e){t.spshow(a)}}})})):t._e(),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("previewer",{ref:"previewer2",attrs:{list:t.item.thumbs,options:t.options}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.item.content,expression:"item.content"}],staticClass:"shop_content",domProps:{innerHTML:t._s(t.item.content)}})])]):t._e(),t._v(" "),i("tabbar",{attrs:{slot:"bottom"},slot:"bottom"},[i("tabbar-item",{attrs:{badge:t.num,href:t.url("shopping/mycart")}},[i("img",{attrs:{slot:"icon",src:a(695)},slot:"icon"})]),t._v(" "),i("tabbar-item",{staticStyle:{"background-color":"#feab47",color:"#fff"},nativeOn:{click:function(e){t.addcar(e)}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("加入购物车")])]),t._v(" "),i("tabbar-item",{staticStyle:{"background-image":"-webkit-gradient(linear, left top, left bottom, color-stop(0, #feab47), color-stop(1, #ff5200))",color:"#fff"},nativeOn:{click:function(e){t.buy()}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("立即购买")])])],1)],1)],1)},staticRenderFns:[]};var g=a(0)(p,w,!1,function(t){a(693),a(694)},"data-v-3b5b2a54",null).exports;new Vue({render:function(t){return t(g)}}).$mount("#app")},693:function(t,e){},694:function(t,e){},695:function(t,e){t.exports="data:image/png;base64,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"}},[692]);