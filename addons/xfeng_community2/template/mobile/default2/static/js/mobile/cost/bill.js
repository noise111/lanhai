webpackJsonp([30],{13:function(t,e,i){"use strict";var n=i(49);e.a={mixins:[n.a],props:{required:{type:Boolean,default:!1}},created:function(){this.handleChangeEvent=!1},computed:{dirty:{get:function(){return!this.pristine},set:function(t){this.pristine=!t}},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(t){!0===this.pristine&&(this.pristine=!1),this.handleChangeEvent||(this.$emit("on-change",t),this.$emit("input",t))}},data:function(){return{errors:{},pristine:!0,touched:!1}}}},15:function(t,e,i){t.exports={default:i(55),__esModule:!0}},247:function(t,e,i){"use strict";function n(t){i(261)}var a=(i(262),i(267)),s=i(268),r=i(0),c=n,u=r(a.a,s.a,!1,c,null,null);e.a=u.exports},248:function(t,e,i){"use strict";function n(t){i(263)}var a=(i(264),i(265)),s=i(266),r=i(0),c=n,u=r(a.a,s.a,!1,c,null,null);e.a=u.exports},249:function(t,e,i){"use strict";i.d(e,"d",function(){return s}),i.d(e,"b",function(){return r}),i.d(e,"a",function(){return c}),i.d(e,"c",function(){return o});var n=i(28),a=i.n(n),s=function(t){return"object"===(void 0===t?"undefined":a()(t))?t.value:t},r=function(t){return"object"===(void 0===t?"undefined":a()(t))?t.key:t},c=function(t){return"object"===(void 0===t?"undefined":a()(t))?t.inlineDesc:""},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(!t.length)return e;if("string"==typeof t[0])return e;var i=t.filter(function(t){return t.key===e});return i.length?i[0].value||i[0].label:e},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){return u(t,e)})}},250:function(t,e,i){"use strict";t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,i,n=t.length,a=t.slice();n;)e=Math.floor(Math.random()*n--),i=a[n],a[n]=a[e],a[e]=i;return a}},261:function(t,e){},262:function(t,e,i){"use strict";function n(t){return JSON.parse(c()(t))}var a=i(15),s=i.n(a),r=i(21),c=i.n(r),u=i(13),o=i(248),l=i(20),h=i(19),d=i(249),f=i(250),v=i.n(f);o.a,l.a,h.a,d.d,d.b,u.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,d.d,d.b,d.a},263:function(t,e){},264:function(t,e,i){"use strict";String},265:function(t,e,i){"use strict";e.a={name:"tip",props:{align:{type:String,default:"left"}}}},266:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-group-tip",style:{"text-align":t.align}},[t._t("default")],2)},a=[],s={render:n,staticRenderFns:a};e.a=s},267:function(t,e,i){"use strict";function n(t){return JSON.parse(c()(t))}var a=i(15),s=i.n(a),r=i(21),c=i.n(r),u=i(13),o=i(248),l=i(20),h=i(19),d=i(249),f=i(250),v=i.n(f);e.a={name:"checklist",components:{Tip:o.a,Icon:l.a,InlineDesc:h.a},filters:{getValue:d.d,getKey:d.b},mixins:[u.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var t=this.currentValue.length;t>1&&(this.currentValue=[this.currentValue[t-1]]);var e=n(this.currentValue);this.tempValue=e.length?e[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=v()(this.options):this.currentOptions=this.options},methods:{getValue:d.d,getKey:d.b,getInlineDesc:d.a,getFullValue:function(){var t=Object(d.c)(this.options,this.value);return this.currentValue.map(function(e,i){return{value:e,label:t[i]}})},isDisabled:function(t){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(t)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var t=Math.max(1,this.min);return Math.min(this._total,t)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(t){var e=t?[t]:[];this.$emit("input",e),this.$emit("on-change",e,Object(d.c)(this.options,e))},value:function(t){c()(t)!==c()(this.currentValue)&&(this.currentValue=t)},options:function(t){this.currentOptions=t},currentValue:function(t){var e=n(t);if(!this.isRadio){this.$emit("input",e),this.$emit("on-change",e,Object(d.c)(this.options,e));var i={};this._min&&(this.required?this.currentValue.length<this._min&&(i={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(i={min:this._min})),!this.valid&&this.dirty&&s()(i).length?this.$emit("on-error",i):this.$emit("on-clear-error")}}}}},268:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.disabled?"vux-checklist-disabled":""},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"weui-cells__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("after-title"),t._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox"},t._l(t.currentOptions,function(e,n){return i("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===t.labelPosition},attrs:{for:"checkbox_"+t.uuid+"_"+n}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+t.uuid,id:t.disabled?"":"checkbox_"+t.uuid+"_"+n,disabled:t.isDisabled(t.getKey(e))},domProps:{value:t.getKey(e),checked:Array.isArray(t.currentValue)?t._i(t.currentValue,t.getKey(e))>-1:t.currentValue},on:{change:function(i){var n=t.currentValue,a=i.target,s=!!a.checked;if(Array.isArray(n)){var r=t.getKey(e),c=t._i(n,r);a.checked?c<0&&(t.currentValue=n.concat([r])):c>-1&&(t.currentValue=n.slice(0,c).concat(n.slice(c+1)))}else t.currentValue=s}}}),t._v(" "),i("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("p",{domProps:{innerHTML:t._s(t.getValue(e))}}),t._v(" "),t.getInlineDesc(e)?i("inline-desc",[t._v(t._s(t.getInlineDesc(e)))]):t._e()],1)])})),t._v(" "),t._t("footer")],2)},a=[],s={render:n,staticRenderFns:a};e.a=s},49:function(t,e,i){"use strict";function n(){return Math.random().toString(36).substring(3,8)}e.a={mounted:function(){},data:function(){return{uuid:n()}}}},55:function(t,e,i){i(56),t.exports=i(14).Object.keys},56:function(t,e,i){var n=i(240),a=i(236);i(57)("keys",function(){return function(t){return a(n(t))}})},57:function(t,e,i){var n=i(25),a=i(14),s=i(231);t.exports=function(t,e){var i=(a.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*s(function(){i(1)}),"Object",r)}},607:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(608);new Vue({render:function(t){return t(n.a)}}).$mount("#app")},608:function(t,e,i){"use strict";function n(t){i(609)}var a=(i(610),i(611)),s=i(612),r=i(0),c=n,u=r(a.a,s.a,!1,c,"data-v-a84595d4",null);e.a=u.exports},609:function(t,e){},610:function(t,e,i){"use strict";var n=i(6),a=i(7),s=i(9),r=i(30),c=i(31),u=i(16),o=i(247),l=i(22),h=i(38),d=i(12),f=i(10);s.a,r.a,c.a,u.a,o.a,l.a,h.a,d.a,f.a},611:function(t,e,i){"use strict";var n=i(6),a=i(7),s=i(9),r=i(30),c=i(31),u=i(16),o=i(247),l=i(22),h=i(38),d=i(12),f=i(10);e.a={components:{ViewBox:s.a,Tab:r.a,TabItem:c.a,Group:u.a,Checklist:o.a,Cell:l.a,Box:h.a,XHeader:d.a,XButton:f.a},data:function(){return{items:[],status:1,allchecked:!0,checked:[],price:"0.00",hstatus:0,px:0}},beforeCreate:function(){},beforeMount:function(){var t=this;t.$vux.loading.show(),a.a.billList(t.status).then(function(e){t.items=e.data.list,t.price=e.data.totalprice,t.hstatus=e.data.hstatus,t.px=t.hstatus?"46px":0,t.items.forEach(function(e){t.checked.push(e.id)})}).catch(function(e){t.$vux.toast.show({type:"warn",text:e.err_msg})})},mounted:function(){var t=this;setTimeout(function(){t.$vux.loading.hide()},300)},methods:{gourl:function(t){window.location.href=t},getResult:function(t){var e=this,i=this;i.status=t,a.a.billList(t).then(function(n){console.log(i.status),e.items=n.data.list,i.price=n.data.totalprice,1==t&&i.items.forEach(function(t){i.checked.push(t.id)})}).catch(function(t){i.$vux.toast.show({type:"warn",text:t.err_msg})})},checkedAll:function(){var t=this;if(this.allchecked)t.checked=[],t.price="0.00";else{t.checked=[];var e=0;t.items.forEach(function(i){t.checked.push(i.id),e+=Number(i.total)}),t.price=Number(e)}},singleSelect:function(){var t=this;t.price="0.00";var e=0;$('input[name="layout[]"]:checked').each(function(){console.log($(this).data("price")),e+=Number($(this).data("price"))}),t.price=Number(e)},pay:function(){var t=this;if(""==!t.checked&&!t.checked)return t.$vux.toast.text("未选择缴费项目！"),!1;var e=t.checked.join(",");a.a.billConfirm(e).then(function(t){window.location.href=t.data.url}).catch(function(e){t.$vux.toast.show({type:"warn",text:e.err_msg})})},url:function(){return n.a.M.url("home")}},computed:{},filters:{keepTwoNum:function(t){return t=Number(t),t.toFixed(2)}}}},612:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("view-box",{ref:"viewBox",staticClass:"container",attrs:{"body-padding-top":t.px,"body-padding-bottom":"50px"}},[t.hstatus?i("x-header",{staticStyle:{position:"absolute",width:"100%",left:"0",top:"0","z-index":"100"},attrs:{slot:"header",title:"我的账单"},slot:"header"},[i("a",{staticStyle:{color:"#FFFFFF"},attrs:{slot:"right",href:t.url()},slot:"right"},[t._v("首页")])]):t._e(),t._v(" "),i("tab",{attrs:{"active-color":"#ff9800","bar-active-color":"#ff9800","default-color":"#888"}},[i("tab-item",{attrs:{selected:""},on:{"on-item-click":function(e){t.getResult(1)}}},[t._v("未缴账单")]),t._v(" "),i("tab-item",{on:{"on-item-click":function(e){t.getResult(2)}}},[t._v(" 缴费记录")])],1),t._v(" "),1==t.status?i("group",{staticClass:"default-bill-content"},[i("cell",[i("span",{attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"default-checkbox-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.allchecked,expression:"allchecked"}],staticClass:"magic-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allchecked)?t._i(t.allchecked,null)>-1:t.allchecked},on:{click:t.checkedAll,change:function(e){var i=t.allchecked,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.allchecked=i.concat([null])):s>-1&&(t.allchecked=i.slice(0,s).concat(i.slice(s+1)))}else t.allchecked=a}}}),t._v(" "),i("span")]),t._v(" "),i("label",{attrs:{for:"checkAll"}},[t._v("全选")])]),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("p",[t._v("费用合计")]),t._v(" "),i("p",{staticClass:"color_y"},[t._v("￥"),i("span",{staticClass:"total"},[t._v(t._s(t._f("keepTwoNum")(t.price)))])]),t._v(" "),i("input",{attrs:{type:"hidden",id:"total"}})])]),t._v(" "),t._l(t.items,function(e,n){return i("cell",{key:n},[i("span",{attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"default-checkbox-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"magic-checkbox",attrs:{type:"checkbox",name:"layout[]","data-price":e.total},domProps:{value:e.id,checked:Array.isArray(t.checked)?t._i(t.checked,e.id)>-1:t.checked},on:{change:[function(i){var n=t.checked,a=i.target,s=!!a.checked;if(Array.isArray(n)){var r=e.id,c=t._i(n,r);a.checked?c<0&&(t.checked=n.concat([r])):c>-1&&(t.checked=n.slice(0,c).concat(n.slice(c+1)))}else t.checked=s},function(e){t.singleSelect()}]}}),t._v(" "),i("span")]),t._v(" "),i("label",{attrs:{for:""}},[t._v(t._s(e.starttime)+"~"+t._s(e.endtime))])]),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("p",[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"color_y"},[t._v("￥"),i("span",{staticClass:"total"},[t._v(t._s(e.price))])])])])}),t._v(" "),i("input",{attrs:{type:"hidden",id:"ids"},domProps:{value:t.checked}})],2):t._e(),t._v(" "),1==t.status?i("box",{attrs:{gap:"10px 10px"}},[i("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.pay()}}},[t._v("我要缴费")])],1):t._e(),t._v(" "),2==t.status?i("div",{staticClass:"tab-panel-item"},[i("div",{staticClass:"weui-cells",staticStyle:{"margin-top":"15px"}},t._l(t.items,function(e,n){return i("div",{key:n,staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui-flex"},[i("div",{staticClass:"weui-flex__item"},[i("p",[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"weui-flex__item"},[i("p",[t._v("￥"+t._s(e.pay_price))])]),t._v(" "),i("div",{staticClass:"weui-flex__item"},[i("p",[t._v(t._s(e.createtime))])])])]),t._v(" "),i("div",{staticClass:"weui-cell__ft color_g"},[t._v("已缴")])])}))]):t._e()],1)],1)},a=[],s={render:n,staticRenderFns:a};e.a=s}},[607]);