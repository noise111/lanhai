webpackJsonp([25],{15:function(t,e,i){"use strict";function n(t){i(68)}var a=(i(69),i(70)),r=i(71),s=i(0),c=n,o=s(a.a,r.a,!1,c,null,null);e.a=o.exports},18:function(t,e,i){"use strict";var n=i(42);e.a={mixins:[n.a],props:{required:{type:Boolean,default:!1}},created:function(){this.handleChangeEvent=!1},computed:{dirty:{get:function(){return!this.pristine},set:function(t){this.pristine=!t}},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(t){!0===this.pristine&&(this.pristine=!1),this.handleChangeEvent||(this.$emit("on-change",t),this.$emit("input",t))}},data:function(){return{errors:{},pristine:!0,touched:!1}}}},22:function(t,e,i){"use strict";function n(t){i(63)}var a=(i(64),i(65)),r=i(66),s=i(0),c=n,o=s(a.a,r.a,!1,c,null,null);e.a=o.exports},23:function(t,e,i){"use strict";var n=(i(67),i(72)),a=i(73),r=i(0),s=r(n.a,a.a,!1,null,null,null);e.a=s.exports},297:function(t,e,i){"use strict";function n(t){i(315)}var a=(i(316),i(321)),r=i(322),s=i(0),c=n,o=s(a.a,r.a,!1,c,null,null);e.a=o.exports},298:function(t,e,i){"use strict";function n(t){i(317)}var a=(i(318),i(319)),r=i(320),s=i(0),c=n,o=s(a.a,r.a,!1,c,null,null);e.a=o.exports},299:function(t,e,i){"use strict";i.d(e,"d",function(){return r}),i.d(e,"b",function(){return s}),i.d(e,"a",function(){return c}),i.d(e,"c",function(){return l});var n=i(31),a=i.n(n),r=function(t){return"object"===(void 0===t?"undefined":a()(t))?t.value:t},s=function(t){return"object"===(void 0===t?"undefined":a()(t))?t.key:t},c=function(t){return"object"===(void 0===t?"undefined":a()(t))?t.inlineDesc:""},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(!t.length)return e;if("string"==typeof t[0])return e;var i=t.filter(function(t){return t.key===e});return i.length?i[0].value||i[0].label:e},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){return o(t,e)})}},300:function(t,e,i){"use strict";t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,i,n=t.length,a=t.slice();n;)e=Math.floor(Math.random()*n--),i=a[n],a[n]=a[e],a[e]=i;return a}},315:function(t,e){},316:function(t,e,i){"use strict";function n(t){return JSON.parse(c()(t))}var a=i(16),r=i.n(a),s=i(25),c=i.n(s),o=i(18),l=i(298),u=i(21),d=i(30),h=i(299),f=i(300),v=i.n(f);l.a,u.a,d.a,h.d,h.b,o.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,h.d,h.b,h.a},317:function(t,e){},318:function(t,e,i){"use strict";String},319:function(t,e,i){"use strict";e.a={name:"tip",props:{align:{type:String,default:"left"}}}},320:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-group-tip",style:{"text-align":t.align}},[t._t("default")],2)},a=[],r={render:n,staticRenderFns:a};e.a=r},321:function(t,e,i){"use strict";function n(t){return JSON.parse(c()(t))}var a=i(16),r=i.n(a),s=i(25),c=i.n(s),o=i(18),l=i(298),u=i(21),d=i(30),h=i(299),f=i(300),v=i.n(f);e.a={name:"checklist",components:{Tip:l.a,Icon:u.a,InlineDesc:d.a},filters:{getValue:h.d,getKey:h.b},mixins:[o.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var t=this.currentValue.length;t>1&&(this.currentValue=[this.currentValue[t-1]]);var e=n(this.currentValue);this.tempValue=e.length?e[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=v()(this.options):this.currentOptions=this.options},methods:{getValue:h.d,getKey:h.b,getInlineDesc:h.a,getFullValue:function(){var t=Object(h.c)(this.options,this.value);return this.currentValue.map(function(e,i){return{value:e,label:t[i]}})},isDisabled:function(t){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(t)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var t=Math.max(1,this.min);return Math.min(this._total,t)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(t){var e=t?[t]:[];this.$emit("input",e),this.$emit("on-change",e,Object(h.c)(this.options,e))},value:function(t){c()(t)!==c()(this.currentValue)&&(this.currentValue=t)},options:function(t){this.currentOptions=t},currentValue:function(t){var e=n(t);if(!this.isRadio){this.$emit("input",e),this.$emit("on-change",e,Object(h.c)(this.options,e));var i={};this._min&&(this.required?this.currentValue.length<this._min&&(i={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(i={min:this._min})),!this.valid&&this.dirty&&r()(i).length?this.$emit("on-error",i):this.$emit("on-clear-error")}}}}},322:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.disabled?"vux-checklist-disabled":""},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"weui-cells__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("after-title"),t._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox"},t._l(t.currentOptions,function(e,n){return i("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===t.labelPosition},attrs:{for:"checkbox_"+t.uuid+"_"+n}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+t.uuid,id:t.disabled?"":"checkbox_"+t.uuid+"_"+n,disabled:t.isDisabled(t.getKey(e))},domProps:{value:t.getKey(e),checked:Array.isArray(t.currentValue)?t._i(t.currentValue,t.getKey(e))>-1:t.currentValue},on:{change:function(i){var n=t.currentValue,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.getKey(e),c=t._i(n,s);a.checked?c<0&&(t.currentValue=n.concat([s])):c>-1&&(t.currentValue=n.slice(0,c).concat(n.slice(c+1)))}else t.currentValue=r}}}),t._v(" "),i("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("p",{domProps:{innerHTML:t._s(t.getValue(e))}}),t._v(" "),t.getInlineDesc(e)?i("inline-desc",[t._v(t._s(t.getInlineDesc(e)))]):t._e()],1)])})),t._v(" "),t._t("footer")],2)},a=[],r={render:n,staticRenderFns:a};e.a=r},42:function(t,e,i){"use strict";function n(){return Math.random().toString(36).substring(3,8)}e.a={mounted:function(){},data:function(){return{uuid:n()}}}},63:function(t,e){},64:function(t,e,i){"use strict";var n=i(4);n.b,String},645:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(646);new Vue({render:function(t){return t(n.a)}}).$mount("#app")},646:function(t,e,i){"use strict";function n(t){i(647)}var a=(i(648),i(649)),r=i(650),s=i(0),c=n,o=s(a.a,r.a,!1,c,"data-v-1d0afb1f",null);e.a=o.exports},647:function(t,e){},648:function(t,e,i){"use strict";var n=i(5),a=i(6),r=i(13),s=i(14),c=i(297),o=i(32),l=i(10),u=i(22),d=i(23);r.a,s.a,c.a,o.a,l.a,u.a,d.a},649:function(t,e,i){"use strict";var n=i(5),a=i(6),r=i(13),s=i(14),c=i(297),o=i(32),l=i(10),u=i(22),d=i(23);e.a={components:{ViewBox:r.a,Group:s.a,Checklist:c.a,Cell:o.a,XHeader:l.a,Tabbar:u.a,TabbarItem:d.a},data:function(){return{pageIng:!1,items:[],setting:[],allchecked:!1,checked:[],price:"0.00",credit:"0.00",ids:"",px:0,creditChecked:0,credit2:0,creditTotal:0,rate:0,creditSwith:0}},beforeCreate:function(){},beforeMount:function(){var t=this,e=this;e.$vux.loading.show("正在加载");var i={status:2,page:1,type:1};a.a.costList(i).then(function(i){t.items=i.data.list,console.log(i.data),t.setting=i.data,t.px=t.setting.hstatus?"46px":0,e.price=i.data.price,e.credit2=i.data.credit,e.credit=i.data.credit,e.rate=i.data.rate,e.creditSwith=i.data.creditSwith,e.creditChecked=e.creditSwith;var n=t.items;n.length&&n.forEach(function(t,e){n[e].ischeck=!0}),e.allchecked=!0,t.pageIng=!0,setTimeout(function(){e.$vux.loading.hide()},300)})},mounted:function(){},methods:{checkedAll:function(){var t=this,e=this.items;e.forEach(function(i,n){e[n].ischeck=!t.allchecked}),this.list=e,this.allchecked=!this.allchecked,this.creditChecked=!this.creditChecked,this.$nextTick(function(){t.price=t.totalPrice()})},totalPrice:function(){var t=0;return this.items.forEach(function(e){e.ischeck&&(t+=Number(e.total))}),t>0?(this.creditSwith&&this.creditChecked&&(this.creditTotal=this.toMoney(this.credit2*this.rate),this.creditTotal>t?(this.credit=this.toMoney(t/this.rate),this.creditTotal=t,t=0):(this.credit=this.credit2,t-=this.creditTotal)),t=this.toMoney(t)):(this.allchecked=0,this.creditChecked=0),t},toMoney:function(t){return t=t.toFixed(2),t=parseFloat(t),t=t.toLocaleString()},singleSelect:function(){var t=this;this.$nextTick(function(){t.price=t.totalPrice()})},pay:function(){var t=this,e="";if(this.items.forEach(function(t){t.ischeck&&(e+=t.id+",")}),""==e)return t.$vux.toast.text("未选择缴费项目！"),!1;if(0==t.price)return t.$vux.toast.text("费用为0,无需缴费"),!1;t.$vux.loading.show("正在提交");var i={ids:e,credit:this.credit,creditTotal:this.creditTotal,creditChecked:this.creditChecked};a.a.costAdd(i).then(function(t){window.location.href=t.data.url}).catch(function(e){t.$vux.toast.show({type:"warn",text:e.err_msg})})},url:function(){return n.a.M.url("home")}},watch:{creditChecked:function(t){var e=this;e.creditSwith&&(1===t||!0===t?(e.creditTotal=e.toMoney(e.credit2*e.rate),console.log(e.creditTotal+"："+e.price),Number(e.creditTotal)>Number(e.price)?(e.credit=e.toMoney(e.price/e.rate),e.creditTotal=e.price,e.price=0):(e.price=e.toMoney(e.price-e.creditTotal),e.credit=e.credit2)):!1===t&&(e.price=e.toMoney(Number(e.price)+Number(e.creditTotal)),e.credit=0,e.creditTotal=0))}}}},65:function(t,e,i){"use strict";var n=i(4);e.a={mounted:function(){},name:"tabbar",mixins:[n.b],props:{iconClass:String}}},650:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%",background:"#f5f5f5"}},[i("view-box",{ref:"viewBox",staticClass:"container",class:{hide:!t.pageIng},attrs:{"body-padding-top":t.px,"body-padding-bottom":"50px"}},[t.setting.hstatus?i("x-header",{staticStyle:{position:"absolute",width:"100%",left:"0",top:"0","z-index":"100"},attrs:{slot:"header",title:"物业缴费"},slot:"header"},[i("a",{staticStyle:{color:"#FFFFFF"},attrs:{slot:"right",href:t.url()},slot:"right"},[t._v("首页")])]):t._e(),t._v(" "),i("div",{staticClass:"weui-panel weui-panel_access",staticStyle:{"margin-top":"0px"}},[i("div",{staticClass:"weui-panel__bd"},[i("a",{staticClass:"weui-media-box weui-media-box_appmsg",attrs:{href:"javascript:void(0);"}},[i("div",{staticClass:"weui-media-box__bd"},[i("p",{staticClass:"weui-media-box__title"},[t._v("房屋："+t._s(t.setting.address))]),t._v(" "),i("p",{staticClass:"weui-media-box__desc",attrs:{id:"price"}},[t._v("未缴费用合计："+t._s(t.price))])])])])]),t._v(" "),i("group",{staticClass:"default-add-tit",attrs:{title:"选择缴纳的费用"}},[i("cell",[i("span",{attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"default-checkbox-box"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.allchecked},on:{click:t.checkedAll}}),t._v(" "),i("span")])]),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("p",[t._v("费用合计")]),t._v(" "),i("p",{staticClass:"color_y"},[t._v("￥"),i("span",{staticClass:"total"},[t._v(t._s(t.price))])]),t._v(" "),i("input",{attrs:{type:"hidden",id:"total"}})])]),t._v(" "),t._l(t.items,function(e,n){return"0.00"!==e.total?i("cell",{key:n},[i("span",{attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"default-checkbox-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ischeck,expression:"item.ischeck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.ischeck)?t._i(e.ischeck,null)>-1:e.ischeck},on:{change:[function(i){var n=e.ischeck,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t._i(n,null);a.checked?s<0&&t.$set(e,"ischeck",n.concat([null])):s>-1&&t.$set(e,"ischeck",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(e,"ischeck",r)},function(e){t.singleSelect()}]}}),t._v(" "),i("span")]),t._v(" "),i("label",{attrs:{for:""}},[t._v(t._s(e.costtime))])]),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("p",[t._v("本期欠缴费用")]),t._v(" "),i("p",{staticClass:"color_y"},[t._v("￥"),i("span",{staticClass:"total"},[t._v(t._s(e.total))])])])]):t._e()}),t._v(" "),t.creditSwith?i("cell",[i("span",{attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"default-checkbox-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.creditChecked,expression:"creditChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.creditChecked)?t._i(t.creditChecked,null)>-1:t.creditChecked},on:{change:function(e){var i=t.creditChecked,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&(t.creditChecked=i.concat([null])):r>-1&&(t.creditChecked=i.slice(0,r).concat(i.slice(r+1)))}else t.creditChecked=a}}}),t._v(" "),i("span")]),t._v(" "),i("label",{attrs:{for:""}},[t._v("积分(本次使用"+t._s(t.credit)+"分)")])]),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("p",{staticClass:"color_y"},[t._v("-￥"),i("span",{staticClass:"total"},[t._v(t._s(t.creditTotal))])])])]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",id:"ids"},domProps:{value:t.checked}})],2),t._v(" "),i("tabbar",{staticClass:"default_bottom",staticStyle:{"background-color":"#ff9800"},attrs:{slot:"bottom"},slot:"bottom"},[i("tabbar-item",{nativeOn:{click:function(e){t.pay()}}},[i("span",{staticStyle:{"font-size":"18px",color:"#FFFFFF"},attrs:{slot:"label"},slot:"label"},[t._v("缴费")])])],1)],1)],1)},a=[],r={render:n,staticRenderFns:a};e.a=r},66:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"weui-tabbar"},[t._t("default")],2)},a=[],r={render:n,staticRenderFns:a};e.a=r},67:function(t,e,i){"use strict";var n=i(4),a=i(15);a.a,n.a,Boolean,String,String,Object,String},68:function(t,e){},69:function(t,e,i){"use strict";String,Number},70:function(t,e,i){"use strict";e.a={name:"badge",props:{text:[String,Number]}}},71:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:["vux-badge",{"vux-badge-dot":void 0===t.text,"vux-badge-single":void 0!==t.text&&1===t.text.toString().length}],domProps:{textContent:t._s(t.text)}})},a=[],r={render:n,staticRenderFns:a};e.a=r},72:function(t,e,i){"use strict";var n=i(4),a=i(15);e.a={name:"tabbar-item",components:{Badge:a.a},mounted:function(){this.$slots.icon||(this.simple=!0),this.$slots["icon-active"]&&(this.hasActiveIcon=!0)},mixins:[n.a],props:{showDot:{type:Boolean,default:!1},badge:String,link:[String,Object],iconClass:String},computed:{isActive:function(){return this.$parent.index===this.currentIndex}},data:function(){return{simple:!1,hasActiveIcon:!1}}}},73:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"weui-tabbar__item",class:{"weui-bar__item_on":t.isActive,"vux-tabbar-simple":t.simple},attrs:{href:"javascript:;"},on:{click:function(e){t.onItemClick(!0)}}},[t.simple?t._e():i("div",{staticClass:"weui-tabbar__icon",class:[t.iconClass||t.$parent.iconClass,{"vux-reddot":t.showDot}]},[t.simple||t.hasActiveIcon&&t.isActive?t._e():t._t("icon"),t._v(" "),!t.simple&&t.hasActiveIcon&&t.isActive?t._t("icon-active"):t._e(),t._v(" "),t.badge?i("sup",[i("badge",{attrs:{text:t.badge}})],1):t._e()],2),t._v(" "),i("p",{staticClass:"weui-tabbar__label"},[t._t("label")],2)])},a=[],r={render:n,staticRenderFns:a};e.a=r}},[645]);